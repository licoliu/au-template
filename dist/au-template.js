!function(e){if(String.prototype.ellipse=function(e,t){var n=0,a=this.length,l="",r="";for(n=0;e>n&&3>n;n++)l+=".";for(n=0;t>n;n++)a-n*e>e?r+=n==t-1?this.substring(n*e,(n+1)*e-l.length)+l:this.substring(n*e,(n+1)*e):a>n*e&&(r+=this.substring(n*e,a)),r+="<br/>";return r},Array.prototype.contains=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return!0;return!1},!e.fn.licoTemplate){var t=function(){return{version:"0.0.2",options:{template:[],store:{},setUpBefore:function(e){return e},setUp:function(e){return e},getTemplate:function(e,t,n){},getTemplates:function(e,t,n,a){}},getTemplate:function(t,n,a){(a.getTemplate||e.fn.licoTemplate.getTemplate).call(e.fn.licoTemplate,t,n,a)},getTemplates:function(t,n,a,l){(a.getTemplates||e.fn.licoTemplate.getTemplates).call(e.fn.licoTemplate,t,n,a,l)},parse:function(t){var n=this;e.licoStore(e.extend({},t.store,{getData:function(a){if(a.success){var l=a.data,r=[],i=[];if(t.setUpBefore&&(l=t.setUpBefore.call(t,l)),"[object Array]"===Object.prototype.toString.apply(l))e.each(l,function(e,a){var l=n.formatData(a,t),o=n.initTemplate(l,t);n.getTemplate(o,l,t),r.push(o),i.push(l)});else{var o=n.formatData(l,t),s=n.initTemplate(o,t);n.getTemplate(s,o,t),r.push(s),i.push(o)}n.getTemplates(r,i,t,a)}else console.log("success:"+a.data.success+"\nmessage:"+a.data.msg)}}))},formatData:function(e,t){return t.setUp&&(e=t.setUp.call(t,e)),e},initTemplate:function(t,n){if(!t)return null;var a=n.template.join("");a=a.replace(/([{]+)\s*([A-z]|[0-9]|[_]|[.])*\s*([}]+)/gim,function(e){var n=t;if(e){for(var a=e.substring(1,e.length-1),l=a.split("."),r=0;r<l.length&&n;r++)n=n[l[r]];return n}return null});var l=e(a);return t.listeners&&e.each(t.listeners,function(e,n){l.bind(e,function(){n.call(t)})}),l}}}();e.fn.licoTemplate=function(n){return n=e.extend({},t.options,n||{}),function(){t.parse.apply(t,arguments)}(n)},e.fn.licoTemplate.getTemplate=function(e,t,n){},e.fn.licoTemplate.getTemplates=function(e,t,n,a){},e.licoTemplate=e.fn.licoTemplate}}(jQuery);